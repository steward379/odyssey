<main class="container-fluid">
  <form class="sign-in-form" data-text="Sign-In" action="/sign_in" onsubmit="return validateForm()" method="POST">
    <h2 class="sign-in-h2 h2 mb-3 font-weight-normal"> 😶‍🌫️ Sign In</h2>
    <span class="text-to-show"> 🫠 Sign In</span>
    <div class="form-group">
      <video width="150px" src="/discord-gif.mp4"></video>
    </div>
    <div class="form-group">
      <label for="username">Username:</label>
      <input type="text" id="username" name="username">
    </div>
    <div class="form-group">
      <label for="password">Password:</label>
      <input type="password" id="password" name="password">
    </div>
    <div>
      <input type="checkbox" id="checkbox" name="consent">
      <label for="checkbox">同意<a href="https://policies.google.com/terms?hl=zh-TW">使用政策</a>與
        <a href="https://gist.github.com/poychang/f413c489b15e4af4e11197dc617f32d2">隱私權條款</a></label>
    </div>
    <div>
      <input type="checkbox" id="checkbox-optional" name="loveMe" value="loveYou">
      <label for="checkbox-optional">喜歡這個網站嗎</label>
    </div>
    <input class="sign-out-btn pink-btn btn btn-lg btn-primary" type="submit" value="Sign In">
  </form>

  <form class="square-form" data-text="Square" onsubmit="event.preventDefault(); return validateNumber()" method="POST">
    <h4 class="sign-in-h2 h4 mb-3 font-weight-normal"> 🤖 Square </h4>
    <span class="text-to-show">🤖 Square</span>
    <div class="form-group">
      <label style=" color: white" for="square">type an integer above 0:</label>
      <input type="text" id="square" name="square-num">
    </div>
    <input class="sign-out-btn purple-btn btn btn-lg btn-secondary" type="submit" value="Calculate">
  </form>
</main>
<script>
  function validateForm() {
    const checkBox = document.getElementById("checkbox");

    if (!checkBox.checked) {
      alert("Please check the checkbox first");
    }
    return checkBox.checked ? true : false;
  }

  function validateNumber() {
    const square = document.getElementById("square");

    const squareNum = square.value;

    // if (!/^\d+$/.test(squareNum) || parseInt(squareNum) <= 0) {
    //   alert("Please enter a positive number");
    //   return false;
    // }
    window.location.href = "/squared/" + squareNum;
    return false;
  }
  window.onload = function() {
    const signInForm = document.querySelector(".sign-in-form");
    const squareForm = document.querySelector(".square-form");

    signInForm.addEventListener("mouseover", function() {
      signInForm.classList.add("hovered");
      squareForm.classList.add("unhovered");
    });
    signInForm.addEventListener("mouseout", function() {
      signInForm.classList.remove("hovered");
      squareForm.classList.remove("unhovered");
    });
    squareForm.addEventListener("mouseover", function() {
      squareForm.classList.add("hovered");
      signInForm.classList.add("unhovered");
    });
    squareForm.addEventListener("mouseout", function() {
      squareForm.classList.remove("hovered");
      signInForm.classList.remove("unhovered");
    });
  };
</script>